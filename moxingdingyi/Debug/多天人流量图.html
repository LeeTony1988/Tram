<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>ECharts</title>
    <!-- 引入 echarts.js -->
    <script src="echarts.min.js"></script>
</head>
<body>
    <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
    <div id="main" style="width: 500px;height:330px;"></div>
    <script type="text/javascript">
		window.x_datas=new Array();
		window.y_datas=new Array();
		function GetData(x_data,y_data)
		{
			window.x_datas.push(x_data);
			window.y_datas.push(y_data);
		}
		function ClearAll()
		{
			window.x_datas=[];
			window.y_datas=[];
		}
        // 基于准备好的dom，初始化echarts实例
		function InitChart()
		{
			var myChart = echarts.init(document.getElementById('main'));
			myChart.clear();
			// 指定图表的配置项和数据
			option = {
				title: {
					text: '多天人流量统计'
				},
				legend: {
					data: ['bar', 'bar2'],
					align: 'left'
				},
				toolbox: {
					// y: 'bottom',
					feature: {
						magicType: {
							type: ['stack', 'tiled']
						},
						dataView: {},
						saveAsImage: {
							pixelRatio: 2
						}
					}
				},
				tooltip: {},
				xAxis: {
					data: window.x_datas,
					silent: false,
					splitLine: {
						show: false
					}
				},
				yAxis: {
				},
				series: [{
					name: '今天总人流量',
					type: 'bar',
					data: window.y_datas,
					animationDelay: function (idx) {
						return idx * 10;
					}
				}],
				animationEasing: 'elasticOut',
				animationDelayUpdate: function (idx) {
					return idx * 5;
				}
			};

			// 使用刚指定的配置项和数据显示图表。
			myChart.setOption(option);
		}
    </script>
</body>
</html>